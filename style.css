/* Base Styles */
body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-family: "Mona Sans", sans-serif !important;
}

/* Scrollbar Hiding */
.no-scrollbar::-webkit-scrollbar {
    display: none;
}
.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Grain Overlay */
.grain-overlay {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
}

/* Animations */
@keyframes spin {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spin-linear {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.animate-spin-slow {
    animation: spin-linear 10s linear infinite;
}

/* Marquee Animation */
@keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

.marquee-content {
    animation: marquee 20s linear infinite;
}

/* Text Stroke */
.text-stroke {
    -webkit-text-stroke: 1px #F2F2F2;
}

/* Reveal Animations Classes */
.reveal-left {
    transform: translateX(-100px);
    opacity: 0;
    transition: all 0.8s ease-out;
}
.reveal-left.visible {
    transform: translateX(0);
    opacity: 1;
}

.reveal-right {
    transform: translateX(100px);
    opacity: 0;
    transition: all 0.8s ease-out;
}
.reveal-right.visible {
    transform: translateX(0);
    opacity: 1;
}

.reveal-scale {
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    transition: all 1s ease-out 0.2s;
}
.reveal-scale.visible {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
}

/* Scroll Reveal General */
.scroll-reveal {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s ease-out;
}
.scroll-reveal.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Delay Utilities */
.delay-100 { transition-delay: 0.1s; }
.delay-200 { transition-delay: 0.2s; }

/* Methodology underline expansion */
.animate-expand {
    width: 0%;
    transition: width 0.8s ease-out;
}
.animate-expand.visible {
    width: 100%;
}

/* Cursor Area */
.cursor-none-area {
    cursor: none;
}

@media (max-width: 768px) {
    .cursor-none-area {
        cursor: auto;
    }
    #custom-cursor {
        display: none !important;
    }
}

/* ============================================================
   TESTIMONIALS CAROUSEL - iPhone/Safari FIXES
   ============================================================ */

/* Desktop - Grid de 3 cards */
@media (min-width: 768px) {
    .testimonial-card {
        transition: transform 0.3s ease, border-color 0.3s ease;
    }
    .testimonial-card:hover {
        transform: translateY(-4px);
        border-color: #555;
    }
}

/* Mobile - Carousel otimizado para iPhone */
@media (max-width: 767px) {
    /* Container pai do carousel */
    #testimonials-carousel {
        /* CRÍTICO: touch-action permite swipe horizontal mas bloqueia scroll vertical */
        touch-action: pan-x;
        
        /* CRÍTICO: -webkit-overflow-scrolling para scroll suave no Safari */
        -webkit-overflow-scrolling: touch;
        
        /* Otimizações de performance para Safari */
        will-change: transform;
        transform: translateZ(0);
        
        /* Previne seleção de texto durante drag */
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        
        /* Remove highlight azul ao tocar no iOS */
        -webkit-tap-highlight-color: transparent;
        
        /* Remove callout (popup de copiar/colar) no iOS */
        -webkit-touch-callout: none;
        
        cursor: grab;
        position: relative;
    }
    
    /* Estado durante drag */
    #testimonials-carousel.dragging {
        cursor: grabbing;
        /* IMPORTANTE: Durante drag, bloqueia completamente scroll */
        touch-action: none;
    }
    
    /* Cards dentro do carousel */
    #testimonials-carousel .testimonial-card {
        flex-shrink: 0;
        
        /* Permite interação com elementos dentro do card */
        pointer-events: auto;
        
        /* Otimização de rendering */
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        
        /* Previne seleção */
        user-select: none;
        -webkit-user-select: none;
    }
    
    /* Previne problemas de bounce no iOS */
    #testimonials-carousel * {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
    }
}

/* Fix adicional para Safari iOS: previne zoom ao dar double-tap */
@media (max-width: 767px) {
    #testimonials-carousel,
    #testimonials-carousel * {
        touch-action: pan-x;
    }
    
    /* Garante que links/botões dentro dos cards ainda funcionem */
    #testimonials-carousel a,
    #testimonials-carousel button {
        touch-action: manipulation;
    }
}
